<!doctype html>
<html>
<head>
<title>PxCMD (SATA_AHCI_PORTCNTRL) Register</title>
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/_register_reference.css')}}">
<script src="xilfunctions.js" type="text/javascript"></script>
</head>
<body>
<p class=header><a href=# onclick=gotoTopic("_overview.html")>Zynq UltraScale+ Devices Register Reference</a> &gt; <a href=# onclick=gotoTopic("_module_summary.html")>Module Summary</a> &gt; <a href=# onclick=gotoTopic("mod___sata_ahci_portcntrl.html")>SATA_AHCI_PORTCNTRL Module</a> &gt; PxCMD (SATA_AHCI_PORTCNTRL) Register</p><h1>PxCMD (SATA_AHCI_PORTCNTRL) Register</h1>
<h2>PxCMD (SATA_AHCI_PORTCNTRL) Register Description</h2>
<table class=noborder>
<tr valign=top><th width=20% class=sumparam>Register Name</th><td width=80% class=noborder>PxCMD</td></tr>
<tr valign=top><th class=sumparam>Relative Address</th><td class=noborder id="registerOffset">0x0000000018</td></tr>
<tr valign=top><th class=sumparam>Absolute Address</th><td class=noborder>
0x00FD0C0118 (SATA_AHCI_PORT0_CNTRL)<br/>0x00FD0C0198 (SATA_AHCI_PORT1_CNTRL)
</td></tr>
<tr valign=top><th class=sumparam>Width</th><td class=noborder>32</td></tr>
<tr valign=top><th class=sumparam>Type</th><td class="tooltip2 noborder">mixed<span class="tooltiptext">Mixed types. See bit-field details.</span></td></tr>
<tr valign=top><th class=sumparam>Reset Value</th><td class=noborder>0x00400000</td></tr>
<tr valign=top><th class=sumparam>Description</th><td class=noborder>Port x Command and Status (PxCMD)</td></tr>
</table>
<p></p>
<h2>PxCMD (SATA_AHCI_PORTCNTRL) Register Bit-Field Summary</h2>
<table>
<tr valign=top><th width=20%>Field Name</th><th width=10%>Bits</th><th width=10%>Type</th><th width=10%>Reset Value</th><th width=50%>Description</th></tr>
<tr valign=top><td>ICC</td><td class="center">31:28</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Interface Communication Control (ICC):<br/>Control power management states of the interface.<br/>If the Link layer is currently in the L_IDLE state or L_NoCommPower state, writes to this field shall cause the HBA to initiate a transition to the interface power management state requested.<br/>If the Link layer is not currently in the L_IDLE state or L_NoCommPower state, writes to this field shall have no effect.<br/>When system software writes a non-reserved value other than No-Op (0h), the HBA shall perform the actions described above (for the value written) and update this field back to Idle (0h).<br/>If software writes to this field to change the state to a state the link is already in (i.e. interface is in the active state and a request is made to go to the active state), the HBA shall take no action and return this field to Idle.<br/>If the interface is in a low power state and software wants to transition to a different low power state, software must first bring the link to active and then initiate the transition to the desired low power state.<br/>If CAPS2.DESO is cleared to '0', transition to DevSleep may occur from any other interface state. If CAP2.DESO is set to '1', then DevSleep may only be transitioned to if the interface is in Slumber.<br/>0: Idle<br/>1: Active<br/>2: Partial<br/>6: Slumber<br/>8: DevSleep<br/>others: reserved</td></tr>
<tr valign=top><td>ASP</td><td class="center">27</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Aggressive Slumber / Partial (ASP):<br/>When set to '1', and ALPE is set, the HBA shall aggressively enter the Slumber state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared.<br/>When cleared, and ALPE is set, the HBA shall aggressively enter the Partial state when it clears the PxCI register and the PxSACT register is cleared or when it clears the PxSACT register and PxCI is cleared.<br/>If CAP.SALP is cleared to '0' software shall treat this bit as reserved.<br/>See section 8.3.1.3 for details.</td></tr>
<tr valign=top><td>ALPE</td><td class="center">26</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Aggressive Link Power Management Enable (ALPE):<br/>When set to '1', the HBA shall aggressively enter a lower link power state (Partial or Slumber) based upon the setting of the ASP bit.<br/>Software shall only set this bit to '1' if CAP.SALP is set to '1'; if CAP.SALP is cleared to '0' software shall treat this bit as reserved.<br/>See section 8.3.1.3 for details.</td></tr>
<tr valign=top><td>DLAE</td><td class="center">25</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Drive LED on ATAPI Enable (DLAE):<br/>When set to '1', the HBA shall drive the LED pin active for commands regardless of the state of PxCMD.ATAPI.<br/>When cleared, the HBA shall only drive the LED pin active for commands if PxCMD.ATAPI set to '0'.<br/>See section 10.11 for details on the activity LED.</td></tr>
<tr valign=top><td>ATAPI</td><td class="center">24</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Device is ATAPI (ATAPI):<br/>When set to '1', the connected device is an ATAPI device. This bit is used by the HBA to control whether or not to generate the desktop LED when commands are active. See section 10.11 for details on the activity LED.</td></tr>
<tr valign=top><td>APSTE</td><td class="center">23</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Automatic Partial to Slumber Transitions Enabled (APSTE): When set to '1', the HBA may perform Automatic Partial to Slumber Transitions. When cleared to '0' the port shall not perform Automatic Partial to Slumber Transitions. Software shall only set this bit to '1' if CAP2.APST is set to '1'; if CAP2.APST is cleared to '0' software shall treat this bit as reserved.</td></tr>
<tr valign=top><td>FBSCP</td><td class="center">22</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x1</td><td>FIS-based Switching Capable Port (FBSCP): When set to '1', indicates that this port supports Port Multiplier FIS-based switching.<br/>When cleared to '0', indicates that this port does not support FIS-based switching. This bit may only be set to '1' if both CAP.SPM and CAP.FBSS are set to '1'.</td></tr>
<tr valign=top><td>ESP</td><td class="center">21</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>External SATA Port (ESP): When set this bit is set to '1', indicates that this port's signal connector is externally accessible on a signal only connector (e.g. eSATA connector). When set to '1', CAP.SXS shall be set to '1'. When cleared to '0', indicates that this port's signal connector is not externally accessible on a signal only connector. ESP is mutually exclusive with the HPCP bit in this register. If ESP is set to '1', then the port may experience hot plug events.</td></tr>
<tr valign=top><td>CPD</td><td class="center">20</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Cold Presence Detection (CPD):<br/>If set to '1', the platform supports cold presence detection on this port.<br/>If cleared to '0', the platform does not support cold presence detection on this port.<br/>When this bit is set to '1', PxCMD.HPCP should also be set to '1'.</td></tr>
<tr valign=top><td>MPSP</td><td class="center">19</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Mechanical Presence Switch Attached to Port (MPSP):<br/>If set to '1', the platform supports an mechanical presence switch attached to this port.<br/>If cleared to '0', the platform does not support a mechanical presence switch attached to this port.<br/>When this bit is set to '1', PxCMD.HPCP should also be set to '1'.</td></tr>
<tr valign=top><td>HPCP</td><td class="center">18</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Hot Plug Capable Port (HPCP):<br/>When set to '1', indicates that this port's signal and power connectors are externally accessible via a joint signal and power connector for blindmate device hot plug.<br/>When cleared to '0', indicates that this port's signal and power connectors are not externally accessible via a joint signal and power connector.<br/>HPCP is mutually exclusive with the ESP bit in this register.</td></tr>
<tr valign=top><td>PMA</td><td class="center">17</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Port Multiplier Attached (PMA): This bit is read/write for HBAs that support a Port Multiplier (CAP.SPM = '1').<br/>This bit is read-only for HBAs that do not support a port Multiplier (CAP.SPM = '0').<br/>When set to '1' by software, a Port Multiplier is attached to the HBA for this port.<br/>When cleared to '0' by software, a Port Multiplier is not attached to the HBA for this port.<br/>Software is responsible for detecting whether a Port Multiplier is present; hardware does not auto-detect the presence of a Port Multiplier.<br/>Software shall only set this bit to '1' when PxCMD.ST is cleared to '0'.</td></tr>
<tr valign=top><td>CPS</td><td class="center">16</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Cold Presence State (CPS): The CPS bit reports whether a device is currently detected on this port via cold presence detection.<br/>If CPS is set to '1', then the HBA detects via cold presence that a device is attached to this port.<br/>If CPS is cleared to '0' , then the HBA detects via cold presence that there is no device attached to this port.</td></tr>
<tr valign=top><td>CR</td><td class="center">15</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Command List Running (CR):<br/>When this bit is set, the command list DMA engine for the port is running.<br/>See the AHCI state machine in section 5.3.2 for details on when this bit is set and cleared by the HBA.</td></tr>
<tr valign=top><td>FR</td><td class="center">14</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>FIS Receive Running (FR):<br/>When set, the FIS Receive DMA engine for the port is running.<br/>See section 10.3.2 for details on when this bit is set and cleared by the HBA.</td></tr>
<tr valign=top><td>MPSS</td><td class="center">13</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Mechanical Presence Switch State (MPSS):<br/>The MPSS bit reports the state of a mechanical presence switch attached to this port.<br/>If CAP.SMPS is set to '1' and the mechanical presence switch is closed then this bit is cleared to '0'.<br/>If CAP.SMPS is set to '1' and the mechanical presence switch is open then this bit is set to '1'.<br/>If CAP.SMPS is set to '0' then this bit is cleared to '0'.<br/>Software should only use this bit if both CAP.SMPS and PxCMD.MPSP are set to '1'.</td></tr>
<tr valign=top><td>CCS</td><td class="center">12:8</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Current Command Slot (CCS):<br/>This field is valid when PxCMD.ST is set to '1' and shall be set to the command slot value of the command that is currently being issued by the HBA.<br/>When PxCMD.ST transitions from '1' to '0', this field shall be reset to '0'.<br/>After PxCMD.ST transitions from '0' to '1', the highest priority slot to issue from next is command slot 0.<br/>After the first command has been issued, the highest priority slot to issue from next is PxCMD.CCS + 1.<br/>For example, after the HBA has issued its first command, if CCS = 0h and PxCI is set to 3h, the next command that will be issued is from command slot 1.</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center"> 7:5</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved</td></tr>
<tr valign=top><td>FRE</td><td class="center"> 4</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>FIS Receive Enable (FRE):<br/>When set, the HBA may post received FISes into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU).<br/>When cleared, received FISes are not accepted by the HBA, except for the first D2H register FIS after the initialization sequence, and no FISes are posted to the FIS receive area. System software must not set this bit until PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area, and if software wishes to move the base, this bit must first be cleared, and software must wait for the FR bit in this register to be cleared.<br/>Refer to section 10.3.2 for important restrictions on when FRE can be set and cleared.</td></tr>
<tr valign=top><td>CLO</td><td class="center"> 3</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Command List Override (CLO):<br/>Setting this bit to '1' causes PxTFD.STS.BSY and PxTFD.STS.DRQ to be cleared to '0'.<br/>This allows a software reset to be transmitted to the device regardless of whether the BSY and DRQ bits are still set in the PxTFD.STS register.<br/>The HBA sets this bit to '0' when PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'.<br/>A write to this register with a value of '0' shall have no effect. This bit shall only be set to '1' immediately prior to setting the PxCMD.ST bit to '1' from a previous value of '0'.<br/>Setting this bit to '1' at any other time is not supported and will result in indeterminate behavior.<br/>Software must wait for CLO to be cleared to '0' before setting PxCMD.ST to '1'.</td></tr>
<tr valign=top><td>POD</td><td class="center"> 2</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Power On Device (POD):<br/>This bit is read/write for HBAs that support cold presence detection on this port as indicated by PxCMD.CPD set to '1'.<br/>This bit is read only '1' for HBAs that do not support cold presence detect.<br/>When set, the HBA sets the state of a pin on the HBA to '1' so that it may be used to provide power to a cold-presence detectable port.</td></tr>
<tr valign=top><td>SUD</td><td class="center"> 1</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0</td><td>Spin-Up Device (SUD): This bit is read/write for HBAs that support staggered spin-up via CAP.SSS.<br/>This bit is read only '1' for HBAs that do not support staggered spin-up.<br/>On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin sequence to the device.<br/>Clearing this bit to '0' does not cause any OOB signal to be sent on the interface.<br/>When this bit is cleared to '0' and PxSCTL.DET=0h, the HBA will enter listen mode as detailed in section 10.10.1.</td></tr>
<tr valign=top><td>ST</td><td class="center"> 0</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Start (ST):<br/>When set, the HBA may process the command list.<br/>When cleared, the HBA may not process the command list.<br/>Whenever this bit is changed from a '0' to a '1', the HBA starts processing the command list at entry '0'.<br/>Whenever this bit is changed from a '1' to a '0', the PxCI register is cleared by the HBA upon the HBA putting the controller into an idle state.<br/>This bit shall only be set to '1' by software after PxCMD.FRE has been set to '1'. Refer to section 10.3.1 for important restrictions on when ST can be set to '1'.</td></tr>
</table><p id=foot class=footer></p>
</body>
</html>