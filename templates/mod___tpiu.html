<!doctype html>
<html>
<head>
<title>TPIU Module</title>
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/_register_reference.css')}}">
<script src="xilfunctions.js" type="text/javascript"></script>
</head>
<body>
<p class=header><a href=# onclick=gotoTopic("_overview.html")>Zynq UltraScale+ Devices Register Reference</a> &gt; <a href=# onclick=gotoTopic("_module_summary.html")>Module Summary</a> > TPIU Module</p><h1>TPIU Module</h1>
<h2>TPIU Module Description</h2>
<table class=noborder>
<tr valign=top><th width=20% class=sumparam>Module Name</th><td width=80% class=noborder>Trace Port Interface Unit (TPIU)</td></tr>
<tr valign=top><th width=20% class=sumparam>Modules of this Type</th><td width=80% class=noborder>CORESIGHT_SOC_TPIU</td></tr>
<tr valign=top><th class=sumparam>Base Address</th><td class=noborder>0x00FE980000 (CORESIGHT_SOC_TPIU)</td></tr>
<tr valign=top><th class=sumparam>Description</th><td class=noborder>Test Port Interface Unit bridge to on-chip trace data</td></tr>
</table>
<h2>TPIU Module Register Summary</h2>
<table>
<tr valign=top><th width=20%>Register Name</th><th width=10%>Address</th><th width=10%>Width</th><th width=10%>Type</th><th width=10%>Reset Value</th><th width=40%>Description</th></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___supported_port_sizes.html")>Supported_Port_Sizes</a></td><td class="hex">0x0000000000</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000001</td><td>Each bit location represents a single port size that is supported on the device, that is, 32-1 in bit locations [31:0].</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___current_port_size.html")>Current_port_size</a></td><td class="hex">0x0000000004</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000001</td><td>The Current Port Size Register has the same format as the Supported Port Sizes register but only one bit is set, and all others must be zero. Writing values with more than one bit set or setting a bit that is not indicated as supported is not supported and causes unpredictable behavior.On reset this defaults to the smallest possible port size, 1 bit, and so reads as 0x00000001.Note: Do not modify the value while the Trace Port is still active, or without correctly stopping the formatter (see Formatter and Flush Control Register, 0x304). This can result in data not being aligned to the port width. For example, data on an 8-bit Trace Port might not be byte aligned.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___supported_trigger_modes.html")>Supported_trigger_modes</a></td><td class="hex">0x0000000100</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0000011F</td><td>This register indicates the implemented Trigger Counter multipliers and other supported features of the trigger system.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___trigger_counter_value.html")>Trigger_counter_value</a></td><td class="hex">0x0000000104</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>The Trigger Counter Register enables delaying the indication of triggers to any external connected trace capture or storage devices. This counter is only eight bits wide and is intended to only be used with the counter multipliers in the Trigger Multiplier Register, 0x108. When a trigger is started, this value, in combination with the multiplier, is the number of words before the trigger is indicated. When the trigger counter reaches zero, the value written here is reloaded. Writing to this register causes the trigger counter value to reset but not reset any values on the multiplier. Reading this register returns the preset value not the current count.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___trigger_multiplier.html")>Trigger_multiplier</a></td><td class="hex">0x0000000108</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This register contains the selectors for the Trigger Counter Multiplier. Several multipliers can be selected to create the required multiplier value, that is, any value between 1 and approximately 2x10^9. The default value is multiplied by 1, 0x0.Writing to this register causes the internal trigger counter and the state in the multipliers to be reset to initial count position, that is, trigger counter is reloaded with the Trigger Counter Register value and all multipliers are reset.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___supported_test_pattern_modes.html")>Supported_test_pattern_modes</a></td><td class="hex">0x0000000200</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0003000F</td><td>The pattern generator unit provides a set of known bit sequences or patterns that can be output over the Trace Port and be detected by the TPA or other associated trace capture device.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___current_test_pattern_mode.html")>Current_test_pattern_mode</a></td><td class="hex">0x0000000204</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This register indicates the current test pattern/mode selected. Only one of the modes can be set, using bits 17-16, but a multiple number of bits for the patterns can be set using bits 3-0. If Timed Mode is chosen, then after the allotted number of cycles has been reached, the mode automatically switches to Off Mode. On reset this register is set to 18'h00000, Off Mode with no selected patterns.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___tprcr.html")>TPRCR</a></td><td class="hex">0x0000000208</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This is an eight-bit counter start value that is decremented. A write sets the initial counter value and a read returns the programmed value. On reset this value is set to 0.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___ffsr.html")>FFSR</a></td><td class="hex">0x0000000300</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>This register indicates the current status of the formatter and flush features available in the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___ffcr.html")>FFCR</a></td><td class="hex">0x0000000304</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This register controls the generation of stop, trigger, and flush events.To disable formatting and put the formatter into bypass mode, bits 1 and 0 must be clear. Setting both bits is the same as setting bit 1.All three flush generating conditions can be enabled together. However, if a second or third flush event is generated from another condition then the current flush completes before the next flush is serviced. Flush from flushin takes priority over flush from Trigger, which in turn completes before a manually activated flush. All Trigger indication conditions can be enabled simultaneously although this can cause the appearance of multiple triggers if flush using trigger is also enabled.Both 'Stop On' settings can be enabled, although if flush on trigger is set up then none of the flushed data is stored. When the system stops, it returns atreadys and does not store the accepted data packets. This is to avoid stalling of any other devices that are connected to a Trace Replicator.If an event in the Formatter and Flush Control Register is required, it must be enabled before the originating event starts. Because requests from flushes and triggers can originate in an asynchronous clock domain, the exact time the component acts on the request cannot be determined with respect to configuring the control.Note - It is recommended that the Trace Port width is changed without enabling continuous mode. Enabling continuous mode causes data to be output from the Trace Port and modifying the port size can result in data not being aligned for power2 port widths.- To perform a stop on flush completion through a manually-generated flush request, two write operations to the register are required: one to enable the stop event, if it is not already enabled; one to generate the manual flush.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___fscr.html")>FSCR</a></td><td class="hex">0x0000000308</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000040</td><td>The Formatter Synchronization Counter Register enables effective use on different sized Trace Port Analyzers (TPAs) without wasting large amounts of the storage capacity of the capture device.This counter is the number of formatter frames since the last synchronization packet of 128 bits, and is a 12-bit counter with a maximum count value of 4096. This equates to synchronization every 65536 bytes, that is, 4096 packets x 16 bytes per packet. The default is set up for a synchronization packet every 1024 bytes, that is, every 64 formatter frames.If the formatter has been configured for continuous mode, full and half-word sync frames are inserted during normal operation. Under these circumstances the count value represents the maximum number of complete frames between full synchronization packets.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___extctl_in_port.html")>EXTCTL_In_Port</a></td><td class="hex">0x0000000400</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>Two ports can be used as a control and feedback mechanism for any serializers, pin sharing multiplexors or other solutions that might be added to the trace output pins either for pin control or a high speed trace port solution. These ports are raw register banks that sample or export the corresponding external pins. The output register bank is set to all zeros on reset. The input registers sample the incoming signals and as such are undefined.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___extctl_out_port.html")>EXTCTL_Out_Port</a></td><td class="hex">0x0000000404</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>Two ports can be used as a control and feedback mechanism for any serializers, pin sharing multiplexors or other solutions that might be added to the trace output pins either for pin control or a high speed trace port solution. These ports are raw register banks that sample or export the corresponding external pins. The output register bank is set to all zeros on reset. The input registers sample the incoming signals and as such are undefined.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___ittrflinack.html")>ITTRFLINACK</a></td><td class="hex">0x0000000EE4</td><td class="center">32</td><td class="tooltip">wo<span class="tooltiptext">Write-only</span></td><td class="hex">0x00000000</td><td>The Integration Test Trigger In and Flush In Acknowledge Register enables control of the triginack and flushinack outputs from the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___ittrflin.html")>ITTRFLIN</a></td><td class="hex">0x0000000EE8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>The Integration Test Trigger In and Flush In Register contains the values of the flushin and trigin inputs to the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___itatbdata0.html")>ITATBDATA0</a></td><td class="hex">0x0000000EEC</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>The Integration Test ATB Data Register 0 contains the value of the atdatas inputs to the TPIU. The values are only valid when atvalids is HIGH.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___itatbctr2.html")>ITATBCTR2</a></td><td class="hex">0x0000000EF0</td><td class="center">32</td><td class="tooltip">wo<span class="tooltiptext">Write-only</span></td><td class="hex">0x00000000</td><td>The Integration Test ATB Control Register 2 enables control of the atreadys and afvalids outputs of the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___itatbctr1.html")>ITATBCTR1</a></td><td class="hex">0x0000000EF4</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>The Integration Test ATB Control Register 1 contains the value of the atids input to the TPIU. This is only valid when atvalids is HIGH.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___itatbctr0.html")>ITATBCTR0</a></td><td class="hex">0x0000000EF8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>The Integration Test ATB Control Register 0 captures the values of the atvalids, afreadys, and atbytess inputs to the TPIU. To ensure the integration registers work correctly in a system, the value of atbytess is only valid when atvalids, bit [0], is HIGH.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___itctrl.html")>ITCTRL</a></td><td class="hex">0x0000000F00</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This register is used to enable topology detection. For more information see the CoreSight Architecture Specification. This register enables the component to switch from a functional mode, the default behavior, to integration mode where the inputs and outputs of the component can be directly controlled for the purpose of integration testing and topology solving. Note: When a device has been in integration mode, it might not function with the original behavior. After performing integration or topology detection, you must reset the system to ensure correct behavior of CoreSight and other connected system components that are affected by the integration or topology detection.The registers in the TPIU enable the system to set the flushinack and triginack output pins. The flushin and trigin inputs to the TPIU can also be read. The other Integration Test Registers are for testing the integration of the ATB slave interface on the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___claimset.html")>CLAIMSET</a></td><td class="hex">0x0000000FA0</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0000000F</td><td>This is used in conjunction with Claim Tag Clear Register, CLAIMCLR. This register forms one half of the Claim Tag value. This location allows individual bits to be set, write, and returns the number of bits that can be set, read.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___claimclr.html")>CLAIMCLR</a></td><td class="hex">0x0000000FA4</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>This register is used in conjunction with Claim Tag Set Register, CLAIMSET. This register forms one half of the Claim Tag value. This location enables individual bits to be cleared, write, and returns the current Claim Tag value, read.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___lar.html")>LAR</a></td><td class="hex">0x0000000FB0</td><td class="center">32</td><td class="tooltip">wo<span class="tooltiptext">Write-only</span></td><td class="hex">0x00000000</td><td>This is used to enable write access to device registers. External accesses from a debugger (paddrdbg31 = 1) are not subject to the Lock Registers. A debugger does not have to unlock the component in order to write and modify the registers in the component.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___lsr.html")>LSR</a></td><td class="hex">0x0000000FB4</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000003</td><td>This indicates the status of the Lock control mechanism. This lock prevents accidental writes by code under debug. When locked, write access is blocked to all registers, except the Lock Access Register.External accesses from a debugger (paddrdbg31 = 1) are not subject to the Lock Registers. This register reads as 0 when read from an external debugger (paddrdbg31 = 1).</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___authstatus.html")>AUTHSTATUS</a></td><td class="hex">0x0000000FB8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>Reports what functionality is currently permitted by the authentication interface.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___devid.html")>DEVID</a></td><td class="hex">0x0000000FC8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x000000A0</td><td>This register indicates the capabilities of the TPIU.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___devtype.html")>DEVTYPE</a></td><td class="hex">0x0000000FCC</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000011</td><td>It provides a debugger with information about the component when the Part Number field is not recognized. The debugger can then report this information.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr4.html")>PIDR4</a></td><td class="hex">0x0000000FD0</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000004</td><td>Part of the set of Peripheral Identification registers. Contains part of the designer identity and the memory footprint indicator.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr5.html")>PIDR5</a></td><td class="hex">0x0000000FD4</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>Reserved</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr6.html")>PIDR6</a></td><td class="hex">0x0000000FD8</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>Reserved</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr7.html")>PIDR7</a></td><td class="hex">0x0000000FDC</td><td class="center">32</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x00000000</td><td>Reserved</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr0.html")>PIDR0</a></td><td class="hex">0x0000000FE0</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000012</td><td>Part of the set of Peripheral Identification registers. Contains part of the designer specific part number.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr1.html")>PIDR1</a></td><td class="hex">0x0000000FE4</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x000000B9</td><td>Part of the set of Peripheral Identification registers. Contains part of the designer specific part number and part of the designer identity.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr2.html")>PIDR2</a></td><td class="hex">0x0000000FE8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0000004B</td><td>Part of the set of Peripheral Identification registers. Contains part of the designer identity and the product revision.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___pidr3.html")>PIDR3</a></td><td class="hex">0x0000000FEC</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000000</td><td>Part of the set of Peripheral Identification registers. Contains the RevAnd and Customer Modified fields.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___cidr0.html")>CIDR0</a></td><td class="hex">0x0000000FF0</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x0000000D</td><td>A component identification register, that indicates that the identification registers are present.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___cidr1.html")>CIDR1</a></td><td class="hex">0x0000000FF4</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000090</td><td>A component identification register, that indicates that the identification registers are present. This register also indicates the component class.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___cidr2.html")>CIDR2</a></td><td class="hex">0x0000000FF8</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x00000005</td><td>A component identification register, that indicates that the identification registers are present.</td></tr>
<tr valign=top><td><a href=# onclick=gotoTopic("tpiu___cidr3.html")>CIDR3</a></td><td class="hex">0x0000000FFC</td><td class="center">32</td><td class="tooltip">ro<span class="tooltiptext">Read-only</span></td><td class="hex">0x000000B1</td><td>A component identification register, that indicates that the identification registers are present.</td></tr>
</table>
<p id=foot class=footer></p>
</body>
</html>