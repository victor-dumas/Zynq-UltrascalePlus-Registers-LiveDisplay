<!doctype html>
<html>
<head>
<title>GFLADJ (USB3_XHCI) Register</title>
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/_register_reference.css')}}">
<script src="xilfunctions.js" type="text/javascript"></script>
</head>
<body>
<p class=header><a href=# onclick=gotoTopic("_overview.html")>Zynq UltraScale+ Devices Register Reference</a> &gt; <a href=# onclick=gotoTopic("_module_summary.html")>Module Summary</a> &gt; <a href=# onclick=gotoTopic("mod___usb3_xhci.html")>USB3_XHCI Module</a> &gt; GFLADJ (USB3_XHCI) Register</p><h1>GFLADJ (USB3_XHCI) Register</h1>
<h2>GFLADJ (USB3_XHCI) Register Description</h2>
<table class=noborder>
<tr valign=top><th width=20% class=sumparam>Register Name</th><td width=80% class=noborder>GFLADJ</td></tr>
<tr valign=top><th class=sumparam>Relative Address</th><td class=noborder id="registerOffset">0x000000C630</td></tr>
<tr valign=top><th class=sumparam>Absolute Address</th><td class=noborder>
0x00FE20C630 (USB3_0_XHCI)<br/>0x00FE30C630 (USB3_1_XHCI)
</td></tr>
<tr valign=top><th class=sumparam>Width</th><td class=noborder>32</td></tr>
<tr valign=top><th class=sumparam>Type</th><td class="tooltip2 noborder">mixed<span class="tooltiptext">Mixed types. See bit-field details.</span></td></tr>
<tr valign=top><th class=sumparam>Reset Value</th><td class=noborder>0x00000000</td></tr>
<tr valign=top><th class=sumparam>Description</th><td class=noborder>Global Frame Length Adjustment Register<br/>This register provides options for the software to control the core behavior with respect to SOF (Start of Frame) and ITP (Isochronous Timestamp Packet) timers and frame timer functionality. It provides an option to override the fladj_30mhz_reg sideband signal. In addition, it enables running SOF or ITP frame timer counters completely from the ref_clk. This facilitates hardware LPM in host mode with the SOF or ITP counters being run from the ref_clk signal.</td></tr>
</table>
<p></p>
<h2>GFLADJ (USB3_XHCI) Register Bit-Field Summary</h2>
<table>
<tr valign=top><th width=20%>Field Name</th><th width=10%>Bits</th><th width=10%>Type</th><th width=10%>Reset Value</th><th width=50%>Description</th></tr>
<tr valign=top><td>GFLADJ_REFCLK_240MHZDECR_PLS1</td><td class="center">31</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>GFLADJ_REFCLK_240MHZDECR_PLS1<br/>This field indicates that the decrement value that the controller applies for each ref_clk<br/>must be GFLADJ_REFCLK_240MHZ_DECR and GFLADJ_REFCLK_240MHZ_DECR +1 alternatively on each ref_clk.<br/>Set this bit to a '1' only if GFLADJ_REFCLK_LPM_SEL is set to '1' and the fractional component of 240/ref_frequency is greater than or equal to 0.5.<br/>Examples:<br/>If the ref_clk is 19.2 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 52<br/>- GFLADJ.GFLADJ_REFCLK_240MHZ_DECR = (240/19.2) = 12.5<br/>- GFLADJ.GFLADJ_REFCLK_240MHZDECR_PLS1 = 1<br/>If the ref_clk is 24 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 41<br/>- GFLADJ.GFLADJ_REFCLK_240MHZ_DECR = (240/24) = 10<br/>- GFLADJ.GFLADJ_REFCLK_240MHZDECR_PLS1 = 0</td></tr>
<tr valign=top><td>GFLADJ_REFCLK_240MHZ_DECR</td><td class="center">30:24</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>This field indicates the decrement value that the controller applies for each ref_clk in order to derive a frame timer in terms of a 240-MHz clock.<br/>This field must be programmed to a non-zero value only if GFLADJ_REFCLK_LPM_SEL is set to '1'.<br/>The value is derived as follows:<br/>GFLADJ_REFCLK_240MHZ_DECR = 240/ref_clk_frequency<br/>Examples:<br/>If the ref_clk is 24 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 41<br/>- GFLADJ.GFLADJ_REFCLK_240MHZ_DECR = 240/24 = 10<br/>If the ref_clk is 48 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 20<br/>- GFLADJ.GFLADJ_REFCLK_240MHZ_DECR = 240/48 = 5<br/>If the ref_clk is 17 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 58<br/>- GFLADJ.GFLADJ_REFCLK_240MHZ_DECR = 240/17 = 14</td></tr>
<tr valign=top><td>GFLADJ_REFCLK_LPM_SEL</td><td class="center">23</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>This bit enables the functionality of running SOF/ITP counters on the ref_clk.<br/>This bit must not be set to '1' if GCTL.SOFITPSYNC bit is set to '1'.<br/>Similarly, if GFLADJ_REFCLK_LPM_SEL set to '1', GCTL.SOFITPSYNC must not be set to '1'.<br/>When GFLADJ_REFCLK_LPM_SEL is set to '1' the overloading of the suspend control of the USB 2.0 first port PHY (UTMI/ULPI) with USB 3.0 port states is removed.<br/>For example, for<br/>PHY, the COMMONONN signal can be tied to '1'.<br/>Note that the ref_clk frequencies supported in this mode are 16/17/19.2/20/24/39.7/40 MHz. The utmi_clk[0] signal of the core must be connected to the FREECLK of the PHY.<br/>Note: If you set this bit to '1', the GUSB2PHYCFG.U2_FREECLK_EXISTS bit must be set to '0'.</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center">22</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved for future use</td></tr>
<tr valign=top><td>GFLADJ_REFCLK_FLADJ</td><td class="center">21:8</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>This field indicates the frame length adjustment to be applied when SOF/ITP counter is running on the ref_clk.<br/>This register value is used to adjust the ITP interval when GCTL[SOFITPSYNC] is set to '1'; SOF and ITP interval when GLADJ.GFLADJ_REFCLK_LPM_SEL is set to '1'.<br/>This field must be programmed to a non-zero value only if GFLADJ_REFCLK_LPM_SEL is set to '1' or GCTL.SOFITPSYNC is set to '1'.<br/>The value is derived as follows:<br/>FLADJ_REF_CLK_FLADJ=((125000/ref_clk_period_integer)-(125000/ref_clk_period)) * ref_clk_period<br/>where<br/>- the ref_clk_period_integer is the integer value of the ref_clk period got by truncating the decimal (fractional) value that is programmed in the GUCTL.REF_CLK_PERIOD field.<br/>- the ref_clk_period is the ref_clk period including the fractional value.<br/>Examples:<br/>If the ref_clk is 24 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 41<br/>- GFLADJ.GLADJ_REFCLK_FLADJ = ((125000/41)-(125000/41.6666))*41.6666 = 2032 (ignoring the fractional value)<br/>If the ref_clk is 48 MHz then<br/>- GUCTL.REF_CLK_PERIOD = 20<br/>- GFLADJ.GLADJ_REFCLK_FLADJ = ((125000/20)-(125000/20.8333))*20.8333 = 5208 (ignoring the fractional value)</td></tr>
<tr valign=top><td>GFLADJ_30MHZ_SDBND_SEL</td><td class="center"> 7</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>GFLADJ_30MHZ_SDBND_SEL<br/>This field selects whether to use the input signal fladj_30mhz_reg or the GFLADJ.GFLADJ_30MHZ to adjust the frame length for the SOF/ITP.<br/>When this bit is set to,<br/>- 1, the controller uses the register field GFLADJ.GFLADJ_30MHZ value<br/>- 0, the controller uses the input signal fladj_30mhz_reg value</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center"> 6</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved for future use</td></tr>
<tr valign=top><td>GFLADJ_30MHZ</td><td class="center"> 5:0</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0</td><td>GFLADJ_30MHZ<br/>This field indicates the value that is used for frame length adjustment instead of considering from the sideband input signal fladj_30mhz_reg.<br/>This enables post-silicon frame length adjustment in case the input signal fladj_30mhz_reg is connected to a wrong value or is not valid.<br/>For details on how to set this value, refer to section 5.2.4, 'Frame Length Adjustment Register (FLADJ),' of the<br/>xHCI Specification.</td></tr>
</table><p id=foot class=footer></p>
</body>
</html>