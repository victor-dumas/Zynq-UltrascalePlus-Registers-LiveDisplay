<!doctype html>
<html>
<head>
<title>dma_config (GEM) Register</title>
<meta name="robots" content="noindex, nofollow" />
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/_register_reference.css')}}">
<script src="xilfunctions.js" type="text/javascript"></script>
</head>
<body>
<p class=header><a href=# onclick=gotoTopic("_overview.html")>Zynq UltraScale+ Devices Register Reference</a> &gt; <a href=# onclick=gotoTopic("_module_summary.html")>Module Summary</a> &gt; <a href=# onclick=gotoTopic("mod___gem.html")>GEM Module</a> &gt; dma_config (GEM) Register</p><h1>dma_config (GEM) Register</h1>
<h2>dma_config (GEM) Register Description</h2>
<table class=noborder>
<tr valign=top><th width=20% class=sumparam>Register Name</th><td width=80% class=noborder>dma_config</td></tr>
<tr valign=top><th class=sumparam>Relative Address</th><td class=noborder id="registerOffset">0x0000000010</td></tr>
<tr valign=top><th class=sumparam>Absolute Address</th><td class=noborder>
0x00FF0B0010 (GEM0)<br/>0x00FF0C0010 (GEM1)<br/>0x00FF0D0010 (GEM2)<br/>0x00FF0E0010 (GEM3)
</td></tr>
<tr valign=top><th class=sumparam>Width</th><td class=noborder>32</td></tr>
<tr valign=top><th class=sumparam>Type</th><td class="tooltip2 noborder">mixed<span class="tooltiptext">Mixed types. See bit-field details.</span></td></tr>
<tr valign=top><th class=sumparam>Reset Value</th><td class=noborder>0x00020784</td></tr>
<tr valign=top><th class=sumparam>Description</th><td class=noborder>DMA Configuration Register</td></tr>
</table>
<p></p>
<h2>dma_config (GEM) Register Bit-Field Summary</h2>
<table>
<tr valign=top><th width=20%>Field Name</th><th width=10%>Bits</th><th width=10%>Type</th><th width=10%>Reset Value</th><th width=50%>Description</th></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center">31</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved, read as zero, ignored on write.</td></tr>
<tr valign=top><td>dma_addr_bus_width_1</td><td class="center">30</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>DMA address bus width. 0 = 32b, 1 = 64b.</td></tr>
<tr valign=top><td>tx_bd_extended_mode_en</td><td class="center">29</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Enable TX extended BD mode. See TX BD control register definition for description of feature.</td></tr>
<tr valign=top><td>rx_bd_extended_mode_en</td><td class="center">28</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Enable RX extended BD mode. See RX BD control register definition for description of feature.</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center">27</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved, read as zero, ignored on write.</td></tr>
<tr valign=top><td>force_max_amba_burst_tx</td><td class="center">26</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Force max length bursts on TX. Force the TX DMA to always issue max length bursts on EOP(end of packet) or EOB(end of buffer) transfers as defined by bits 4:0 of this register, even when there is less that max burst data bytes to read. Residual data read is ignored. Does not apply on bursts that break 1k boundary rule.</td></tr>
<tr valign=top><td>force_max_amba_burst_rx</td><td class="center">25</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Force max length bursts on RX. Force the RX DMA to always issue max length bursts on EOP(end of packet) or EOB(end of buffer)transfers, even if there is less than max burst real packet data required to write. Any extra bytes of pad data is set to 0x00. Does not apply on bursts that break 1k boundary rule.</td></tr>
<tr valign=top><td>force_discard_on_err</td><td class="center">24</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Auto Discard RX pkts during lack of resource. When set, the GEM DMA will automatically discard receive packets from the receiver packet buffer memory when no AMBA (AHB/AXI) resource is available. When low, then received packets will remain to be stored in the SRAM based packet buffer until AMBA (AHB/AXI) buffer resource next becomes available. A write to this bit is ignored if the DMA is not configured in the packet buffer full store and forward mode.</td></tr>
<tr valign=top><td>rx_buf_size</td><td class="center">23:16</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x2</td><td>DMA receive buffer size in external AMBA (AHB/AXI) system memory. The value defined by these bits determines the size of buffer to use in main system memory when writing received data. The value is defined in multiples of 64 bytes.0x01 corresponds to buffers of 64 bytes0x02 corresponds to 128 bytes etc.For example:0x02: 128 byte.0x18: 1536 byte (1*max length frame/buffer)0xA0: 10240 byte (1*10K jumbo frame/buffer)Note that this value should never be written as zero.Note. The reset value of this field is equal to the<br/>gem_rx_buffer_length_def define, which is user configurable.</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center">15:12</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved, read as zero, ignored on write.</td></tr>
<tr valign=top><td>tx_pbuf_tcp_en</td><td class="center">11</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>Transmitter IP, TCP and UDP checksum generation offload enable (not supported when in TX Partial Store and Forward mode). When set, the transmitter checksum generation engine is enabled, to calculate and substitute checksums for transmit frames. When clear, frame data is unaffected. If the GEM is not configured to use the DMA packet buffer, this bit is not implemented and will be treated as reserved, read as zero, ignored on write.</td></tr>
<tr valign=top><td>tx_pbuf_size</td><td class="center">10</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x1</td><td>Transmitter packet buffer memory size.<br/>0: Do not use top address bit (16 KB)<br/>1: Use full configured addressable space (32KB)<br/>Note<br/>: This field is used for the DMA packet buffer.<br/>Note<br/>:The reset value of this field is equal to the<br/>gem_tx_pbuf_size_def define, which is user configurable.'Note<br/>: Setting this bit to 1'b0 halves the amount of memory used for the transmit packet buffer. This reduces the amount of memory used by the GEM. It is important to set this bit to 1'b1 if the full configured physical memory is available.<br/>The value in brackets above represents the size that would result for the default maximum configured memory size of 32 Kbytes.</td></tr>
<tr valign=top><td>rx_pbuf_size</td><td class="center"> 9:8</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x3</td><td>Rx packet buffer memory size:<br/>00: Do not use top three address bits (4 KB)<br/>01: Do not use top two address bits (8 KB)<br/>10: Do not use top address bit (16 KB)<br/>11: Use full configured addressable space (32 KB)<br/>Note<br/>: This field is used for the<br/>DMA packet buffer.<br/>Note<br/>: A setting other than 2'b11 reduces the amount of memory used for the receive packet buffer. This reduces the amount of system memory used by the GEM.<br/>Note<br/>: The reset value is equal to the<br/>gem_rx_pbuf_size_def define, which is user configurable.<br/>It is important to set these bits to 2'b11 if the full configured physical memory is available.<br/>The value in brackets above represents the size that would result for the default maximum configured memory size of 32KB.</td></tr>
<tr valign=top><td>endian_swap_packet</td><td class="center"> 7</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x1</td><td>endian swap mode enable for packet data accesses. When set, selects swapped endianism for AMBA (AHB/AXI) transfers. When clear, selects little endian mode.</td></tr>
<tr valign=top><td>endian_swap_management</td><td class="center"> 6</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x0</td><td>endian swap mode enable for management descriptor accesses. When set, selects swapped endianism for AMBA (AHB/AXI) transfers. When clear, selects little endian mode.</td></tr>
<tr valign=top><td class="grayback">Reserved</td><td class="grayback center"> 5</td><td class="tooltip grayback">ro<span class="tooltiptext">Read-only</span></td><td class="hex grayback">0x0</td><td class=grayback>Reserved, read as zero, ignored on write.</td></tr>
<tr valign=top><td>amba_burst_length</td><td class="center"> 4:0</td><td class="tooltip">rw<span class="tooltiptext">Normal read/write</span></td><td class="hex">0x4</td><td>Selects the burst length to attempt to use on the AMBA (AHB/AXI) when transferring frame data. Not used for DMA management operations and only used where space and data size allow and respecting AXI/AHB burst boundary rules. One-hot priority encoding enforced automatically on register writes as follows, where x represents don't care:<br/>1xxxx: Attempt to use bursts of up to 16.<br/>01xxx: Attempt to use bursts of up to 8.<br/>001xx: Attempt to use bursts of up to 4.<br/>0001x: Always use SINGLE bursts.<br/>00001: Always use SINGLE bursts.<br/>00000: Reserved</td></tr>
</table><p id=foot class=footer></p>
</body>
</html>